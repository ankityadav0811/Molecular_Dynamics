clear
echo none
#package omp 1
suffix omp

units           metal
atom_style	atomic
boundary        p p p

variable time_step      equal 	0.001
variable time_eq2	equal   75000
variable mytemp         equal   300.0
#variable a0		equal   3.5200000000000000
variable a0             equal   4.04999999999999982236
variable itemp          equal   1400.0
timestep ${time_step}

variable tdamp       equal   "v_time_step*100"
variable pdamp       equal   "v_time_step*1000"

#variable a0 equal 2.705
#variable ca0 equal 1.582
#variable c equal ${a0}*${ca0}

lattice         fcc ${a0}
region          box block 0 26 0 26 0 26
create_box      1 box
create_atoms    1 box


include potential.mod

mass 1 26.9815  # Al


thermo 100
#thermo_style custom step temp press pe ke etotal
thermo_style custom step temp pe etotal press vol cpuremain spcpu

write_data initial.lmp


group Al type 1

variable n_al equal count(Al)


print "***** Al atoms = ${n_al}"

#minimize 0.0 1.0e-4 200000 100000
fix 1 all box/relax aniso 0.0
minimize 0.0 1.0e-9 200000 100000



#fix 1 all npt temp ${mytemp} ${mytemp} ${tdamp} y 0.0 0.0 ${pdamp} z 0.0 0.0 ${pdamp}
#run ${run_one}  # 0.4 ns
#unfix 1

fix 2 all nvt temp ${mytemp} ${mytemp} ${tdamp} 
run 500  
unfix 2


compute eng_per_atom all pe/atom
compute ke_per_atom all ke/atom

variable        cohesive_energy equal "pe/atoms"
print "Cohesive Energy (eV/atom): ${cohesive_energy}"


variable        a equal "lx/15"          # Lattice parameter is the length of the box in x direction
variable        c equal "lz/15"
variable        c_by_a equal ${c}/${a}
print "Lattice Parameter (Angstroms): ${a}"
print "c: ${c}"
print "c/a ratio: ${c_by_a}"
