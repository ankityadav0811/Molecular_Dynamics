LAMMPS (23 Jun 2022 - Update 3)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
# Compute elastic constant tensor for a crystal
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, deformation parameters and initial
#		  configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the minimization of energy w.r.t atom
#  positions in the deformed cell is fully converged.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to check
#  the final max and two-norm forces reported in the log file. If you know
#  that minimization is not required, you can set maxiter = 0.0 in
#  init.mod.
#

include init.mod
# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
variable up equal 1.0e-6

# Define the amount of random jiggle for atoms
# This prevents atoms from staying on saddle points
variable atomjiggle equal 1.0e-5

# Uncomment one of these blocks, depending on what units
# you are using in LAMMPS and for output

# metal units, elastic constants in eV/A^3
#units		metal
#variable cfac equal 6.2414e-7
#variable cunits string eV/A^3

# metal units, elastic constants in GPa
units		metal
variable cfac equal 1.0e-4
variable cunits string GPa

# real units, elastic constants in GPa
#units		real
#variable cfac equal 1.01325e-4
#variable cunits string GPa

# Define minimization parameters
variable etol equal 0.0
variable ftol equal 1.0e-10
variable maxiter equal 100000
variable maxeval equal 1000000
variable dmax equal 1.0e-2

# generate the box and atom positions using a diamond lattice
variable a equal 4.05

boundary	p p p


lattice        fcc $a
lattice        fcc 4.05
Lattice spacing in x,y,z = 4.05 4.05 4.05
region         box prism 0 10.0 0 10.0 0 10.0 0.0 0.0 0.0
create_box     1 box
Created triclinic box = (0 0 0) to (40.5 40.5 40.5) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
create_atoms   1 box
Created 4000 atoms
  using lattice units in triclinic box = (0 0 0) to (40.5 40.5 40.5) with tilt (0 0 0)
  create_atoms CPU = 0.148 seconds

change_box all triclinic
Changing box ...
  triclinic box = (0 0 0) to (40.5 40.5 40.5) with tilt (0 0 0)

#read_data poly.lmp
mass 1 26.981539
#mass 2 24.305
#variable scale equal ${a}/4.045
#change_box all x scale ${scale} y scale ${scale} z scale ${scale} remap
timestep 0.001
variable ftol equal 1.0e-4
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no
min_style  fire
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 0.0001 ${maxiter} ${maxeval}
minimize 0 0.0001 100000 ${maxeval}
minimize 0 0.0001 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
  Parameters for fire: 
    dmax delaystep dtgrow dtshrink alpha0 alphashrink tmax tmin    integrator halfstepback 
     0.1        20    1.1      0.5   0.25        0.99   10 0.02 eulerimplicit          yes 
Per MPI rank memory allocation (min/avg/max) = 9.552 | 9.552 | 9.552 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         0   0             -13439.96      -0.65043355    -0.65043355    -0.65043355    -0.65043355     1.5598205e-11  1.5751196e-11  1.5687614e-11  40.5           40.5           40.5           66430.125    
         1   1.2325293e-26 -13439.96      -0.65043355    -0.65043355    -0.65043355    -0.65043355     5.969078e-13   7.382165e-13   6.5848143e-13  40.5           40.5           40.5           66430.125    
Loop time of 0.265265 on 4 procs for 1 steps with 4000 atoms

47.8% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598295273  -13439.9598295273  -13439.9598295273
  Force two-norm initial, final = 5.9017136e-12 5.9693085e-12
  Force max component initial, final = 1.4428601e-13 1.3915729e-13
  Final line search alpha, max atom move = 0 0
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.14781    | 0.16372    | 0.18377    |   3.3 | 61.72
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.03431    | 0.058351   | 0.070333   |   6.1 | 22.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.04319    |            |       | 16.28

Nlocal:           1000 ave        1000 max        1000 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Nghost:           1813 ave        1813 max        1813 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Neighs:          21000 ave       21000 max       21000 min
Histogram: 4 0 0 0 0 0 0 0 0 0
FullNghs:        42000 ave       42000 max       42000 min
Histogram: 4 0 0 0 0 0 0 0 0 0

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0
variable ftol equal 1.0e-10
min_style  cg
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Per MPI rank memory allocation (min/avg/max) = 10.68 | 10.68 | 10.68 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         1   1.2325293e-26 -13439.96      -0.65043355    -0.65043355    -0.65043355    -0.65043355     1.4809324e-11  1.5756653e-11  1.5689417e-11  40.5           40.5           40.5           66430.125    
         2   1.2325293e-26 -13439.96      -0.65043355    -0.65043355    -0.65043355    -0.65043355     2.2333956e-12  2.7380385e-12  4.446481e-12   40.5           40.5           40.5           66430.125    
Loop time of 0.217732 on 4 procs for 1 steps with 4000 atoms

55.6% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598295273  -13439.9598295273  -13439.9598295273
  Force two-norm initial, final = 5.899439e-12 2.156997e-12
  Force max component initial, final = 1.4428601e-13 5.554075e-14
  Final line search alpha, max atom move = 1 5.554075e-14
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.087686   | 0.089869   | 0.095928   |   1.2 | 41.28
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.020343   | 0.037068   | 0.052148   |   6.3 | 17.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0908     |            |       | 41.70

Nlocal:           1000 ave        1000 max        1000 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Nghost:           1813 ave        1813 max        1813 min
Histogram: 4 0 0 0 0 0 0 0 0 0
Neighs:          21000 ave       21007 max       20993 min
Histogram: 1 0 0 0 0 2 0 0 0 1
FullNghs:        42000 ave       42000 max       42000 min
Histogram: 4 0 0 0 0 0 0 0 0 0

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

fix 3 all box/relax  iso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Per MPI rank memory allocation (min/avg/max) = 10.68 | 10.68 | 10.7 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         2   1.2325293e-26 -13439.96      -0.65043355    -0.65043355    -0.65043355    -0.65043355     5.6638814e-12  7.0442349e-12  8.917131e-12   40.5           40.5           40.5           66430.125    
         5   1.2325293e-26 -13439.96       6.718413e-11   6.5468434e-11  6.6052684e-11  7.0031271e-11  1.4135179e-12  1.5142173e-12  1.5275192e-12  40.499989      40.499989      40.499989      66430.07     
Loop time of 0.769 on 4 procs for 3 steps with 4000 atoms

49.4% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598295273  -13439.9598295374  -13439.9598295362
  Force two-norm initial, final = 0.080905659 1.0475825e-11
  Force max component initial, final = 0.080905659 8.3568465e-12
  Final line search alpha, max atom move = 1 8.3568465e-12
  Iterations, force evaluations = 3 6

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.32929    | 0.34727    | 0.35838    |   1.9 | 45.16
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.12512    | 0.13721    | 0.15273    |   2.7 | 17.84
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.2845     |            |       | 37.00

Nlocal:           1000 ave        1044 max         948 min
Histogram: 1 0 0 0 0 1 1 0 0 1
Nghost:           1813 ave        1865 max        1769 min
Histogram: 1 0 0 1 1 0 0 0 0 1
Neighs:          21000 ave       21959 max       19816 min
Histogram: 1 0 0 0 0 1 0 1 0 1
FullNghs:        42000 ave       43848 max       39816 min
Histogram: 1 0 0 0 0 1 1 0 0 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0
unfix 3


#change_box all triclinic

#lattice         fcc $a
#region		box prism 0 4.0 0 4.0 0 4.0 0.0 0.0 0.0
#create_box	2 box
#create_atoms	1 box

# Need to set mass to something, just to satisfy LAMMPS
#mass 1 1.0e-20

include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Compute initial state
fix 3 all box/relax  aniso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Per MPI rank memory allocation (min/avg/max) = 10.68 | 10.68 | 10.7 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         5   1.2325293e-26 -13439.96       4.7328697e-11  4.595099e-11   4.6096035e-11  4.9939066e-11  7.3744354e-13  7.1681468e-13  7.298421e-13   40.499989      40.499989      40.499989      66430.07     
         6   1.2325293e-26 -13439.96      -4.3759942e-11 -4.4984471e-11 -4.4657779e-11 -4.1637577e-11 -7.9213366e-12 -9.1635565e-12 -8.1218768e-12  40.499989      40.499989      40.499989      66430.07     
Loop time of 0.241512 on 4 procs for 1 steps with 4000 atoms

48.1% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598295362  -13439.9598295362  -13439.9598295362
  Force two-norm initial, final = 7.9057998e-12 7.8806223e-12
  Force max component initial, final = 2.0705931e-12 1.8651638e-12
  Final line search alpha, max atom move = 1 1.8651638e-12
  Iterations, force evaluations = 1 2

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.14058    | 0.14812    | 0.16171    |   2.2 | 61.33
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.02382    | 0.037832   | 0.045792   |   4.5 | 15.66
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.05556    |            |       | 23.00

Nlocal:           1000 ave        1044 max         948 min
Histogram: 1 0 0 0 0 1 1 0 0 1
Nghost:           1813 ave        1865 max        1769 min
Histogram: 1 0 0 1 1 0 0 0 0 1
Neighs:          21000 ave       21960 max       19816 min
Histogram: 1 0 0 0 0 1 0 1 0 1
FullNghs:        42000 ave       43848 max       39816 min
Histogram: 1 0 0 0 0 1 1 0 0 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal -4.49844706661953e-11
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal -4.46577791661005e-11
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal -4.1637577248242e-11
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal -8.12187678696385e-12
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal -9.16355650873364e-12
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal -7.92133661733285e-12

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 40.4999888696336
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 40.4999888696336
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 40.4999888696336

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--4.49844706661953e-11)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1--4.49844706661953e-11)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--4.46577791661005e-11)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--4.46577791661005e-11)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--4.1637577248242e-11)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1--4.1637577248242e-11)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--8.12187678696385e-12)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--8.12187678696385e-12)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--9.16355650873364e-12)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--9.16355650873364e-12)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--7.92133661733285e-12)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--7.92133661733285e-12)/(v_delta/v_len0)*0.0001

displace_atoms all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 1e-05 1e-05 87287 units box
Displacing atoms ...

# Write restart
unfix 3
write_restart restart.equil
System init for write_restart ...

# uxx Perturbation

variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 40.4999888696336
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.136 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*40.4999888696336
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -4.04999888696336e-05 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -4.04999888696336e-05 xy delta -0 xz delta ${deltaxz} remap units box
change_box all x delta 0 -4.04999888696336e-05 xy delta -0 xz delta -0 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499954 40.499994 40.499994) with tilt (0 0 0)
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499954 40.499994 40.499994) with tilt (0 0 0)
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499954 40.499994 40.499994) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96       0.78905963     1.1355403      0.61581911     0.61581952     2.6645752e-07 -1.8736646e-06  9.9772072e-07  40.499948      40.499989      40.499989      66430.004    
       114   1.2325293e-26 -13439.96       0.7889144      1.1353951      0.61567405     0.61567405    -8.2459703e-13 -1.313327e-12  -1.7450242e-13  40.499948      40.499989      40.499989      66430.004    
Loop time of 56.7466 on 4 procs for 108 steps with 4000 atoms

49.8% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275744  -13439.9598295132   -13439.959829513
  Force two-norm initial, final = 0.0079464252 8.9443415e-11
  Force max component initial, final = 0.00025738652 3.1852821e-12
  Final line search alpha, max atom move = 1 3.1852821e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.538     | 23.707     | 23.848     |   2.6 | 41.78
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 20.603     | 20.85      | 21.094     |   5.3 | 36.74
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 12.19      |            |       | 21.48

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.13539510358211
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 0.615674047337771
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 0.61567404733601
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -8.24597027044567e-13
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.31332698740293e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.74502417641406e-13

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 113.539510362709
variable C2neg equal ${d2}
variable C2neg equal 61.5674047382429
variable C3neg equal ${d3}
variable C3neg equal 61.5674047377648
variable C4neg equal ${d4}
variable C4neg equal 7.94737436932244e-10
variable C5neg equal ${d5}
variable C5neg equal 7.85022952133071e-10
variable C6neg equal ${d6}
variable C6neg equal 7.09673959028828e-10

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.132 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*40.4999888696336
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 4.04999888696336e-05 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 4.04999888696336e-05 xy delta 0 xz delta ${deltaxz} remap units box
change_box all x delta 0 4.04999888696336e-05 xy delta 0 xz delta 0 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.500035 40.499994 40.499994) with tilt (0 0 0)
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.500035 40.499994 40.499994) with tilt (0 0 0)
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.500035 40.499994 40.499994) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96      -0.78876312    -1.1352433     -0.61552322    -0.61552281     2.6645821e-07 -1.8736391e-06  9.9770648e-07  40.500029      40.499989      40.499989      66430.137    
       114   1.2325293e-26 -13439.96      -0.78890835    -1.1353885     -0.61566828    -0.61566828     5.4413492e-13  1.2663876e-12  3.2076817e-12  40.500029      40.499989      40.499989      66430.137    
Loop time of 30.6237 on 4 procs for 108 steps with 4000 atoms

49.2% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275744  -13439.9598295136  -13439.9598295135
  Force two-norm initial, final = 0.0079463696 8.9241049e-11
  Force max component initial, final = 0.0002573847 3.145417e-12
  Final line search alpha, max atom move = 1 3.145417e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 14.617     | 14.644     | 14.692     |   0.7 | 47.82
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 9.0786     | 9.2137     | 9.3474     |   3.3 | 30.09
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 6.766      |            |       | 22.09

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -13439.9598295135
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -0.788908349318477
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.1353884857594
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -0.615668281095541
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -0.615668281100487
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 5.44134919142688e-13
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.26638760310796e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.20768166976106e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 113.538848571442
variable C2pos equal ${d2}
variable C2pos equal 61.5668281050883
variable C3pos equal ${d3}
variable C3pos equal 61.5668281058849
variable C4pos equal ${d4}
variable C4pos equal -1.13295584567249e-09
variable C5pos equal ${d5}
variable C5pos equal -1.04299441118416e-09
variable C6pos equal ${d6}
variable C6pos equal -8.46547153647554e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(113.539510362709+${C1pos})
variable C11 equal 0.5*(113.539510362709+113.538848571442)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(61.5674047382429+${C2pos})
variable C21 equal 0.5*(61.5674047382429+61.5668281050883)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(61.5674047377648+${C3pos})
variable C31 equal 0.5*(61.5674047377648+61.5668281058849)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(7.94737436932244e-10+${C4pos})
variable C41 equal 0.5*(7.94737436932244e-10+-1.13295584567249e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(7.85022952133071e-10+${C5pos})
variable C51 equal 0.5*(7.85022952133071e-10+-1.04299441118416e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(7.09673959028828e-10+${C6pos})
variable C61 equal 0.5*(7.09673959028828e-10+-8.46547153647554e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 40.4999888696336
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.037 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*40.4999888696336
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 -4.04999888696336e-05 yz delta ${deltayz} remap units box
change_box all y delta 0 -4.04999888696336e-05 yz delta -0 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499954 40.499994) with tilt (0 0 0)
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499954 40.499994) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96       0.78905963     0.6158192      1.1355402      0.61581952     2.6645808e-07 -1.8736616e-06  9.9771581e-07  40.499989      40.499948      40.499989      66430.004    
       114   1.2325293e-26 -13439.96       0.7889144      0.61567405     1.1353951      0.61567405    -5.1388778e-14 -2.4753268e-12  1.7973758e-12  40.499989      40.499948      40.499989      66430.004    
Loop time of 14.7293 on 4 procs for 108 steps with 4000 atoms

49.7% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275744  -13439.9598295132   -13439.959829513
  Force two-norm initial, final = 0.0079464252 8.6574298e-11
  Force max component initial, final = 0.00025738645 3.2482663e-12
  Final line search alpha, max atom move = 1 3.2482663e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 9.4698     | 9.5271     | 9.5826     |   1.5 | 64.68
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.8718     | 2.9458     | 3.0278     |   3.2 | 20.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.256      |            |       | 15.32

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 0.615674047331545
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.13539510358138
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 0.615674047332279
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -5.13887777327985e-14
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -2.47532680821677e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.79737579801193e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 61.5674047376529
variable C2neg equal ${d2}
variable C2neg equal 113.539510362604
variable C3neg equal ${d3}
variable C3neg equal 61.5674047373917
variable C4neg equal ${d4}
variable C4neg equal 9.91925258497578e-10
variable C5neg equal ${d5}
variable C5neg equal 6.68822970051687e-10
variable C6neg equal ${d6}
variable C6neg equal 7.86994783960005e-10

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*40.4999888696336
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 4.04999888696336e-05 yz delta ${deltayz} remap units box
change_box all y delta 0 4.04999888696336e-05 yz delta 0 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.500035 40.499994) with tilt (0 0 0)
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.500035 40.499994) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96      -0.78876312    -0.61552313    -1.1352434     -0.61552281     2.6645226e-07 -1.8736572e-06  9.9772835e-07  40.499989      40.500029      40.499989      66430.137    
       114   1.2325293e-26 -13439.96      -0.78890835    -0.61566828    -1.1353885     -0.61566828     4.2740702e-14  6.8692024e-13  1.1168641e-12  40.499989      40.500029      40.499989      66430.137    
Loop time of 15.5882 on 4 procs for 108 steps with 4000 atoms

49.8% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275744  -13439.9598295136  -13439.9598295135
  Force two-norm initial, final = 0.0079463696 8.7943727e-11
  Force max component initial, final = 0.00025738477 3.6450104e-12
  Final line search alpha, max atom move = 1 3.6450104e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 10.328     | 10.366     | 10.384     |   0.7 | 66.50
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.7115     | 2.7366     | 2.7639     |   1.5 | 17.56
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.485      |            |       | 15.94

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -13439.9598295135
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -0.788908349316094
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -0.615668281098182
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.13538848575475
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -0.615668281095348
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 4.2740702403681e-14
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 6.8692023501113e-13
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.11686411038818e-12

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 61.5668281053198
variable C2pos equal ${d2}
variable C2pos equal 113.538848571009
variable C3pos equal ${d3}
variable C3pos equal 61.566828105371
variable C4pos equal ${d4}
variable C4pos equal -9.23874089735203e-10
variable C5pos equal ${d5}
variable C5pos equal -9.85047674374477e-10
variable C6pos equal ${d6}
variable C6pos equal -7.96407731973653e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(61.5674047376529+${C1pos})
variable C12 equal 0.5*(61.5674047376529+61.5668281053198)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(113.539510362604+${C2pos})
variable C22 equal 0.5*(113.539510362604+113.538848571009)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(61.5674047373917+${C3pos})
variable C32 equal 0.5*(61.5674047373917+61.566828105371)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(9.91925258497578e-10+${C4pos})
variable C42 equal 0.5*(9.91925258497578e-10+-9.23874089735203e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(6.68822970051687e-10+${C5pos})
variable C52 equal 0.5*(6.68822970051687e-10+-9.85047674374477e-10)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(7.86994783960005e-10+${C6pos})
variable C62 equal 0.5*(7.86994783960005e-10+-7.96407731973653e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 40.4999888696336
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*40.4999888696336
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -4.04999888696336e-05 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499954) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96       0.78905963     0.6158192      0.61581911     1.1355406      2.6645474e-07 -1.8736582e-06  9.9771733e-07  40.499989      40.499989      40.499948      66430.004    
       114   1.2325293e-26 -13439.96       0.7889144      0.61567405     0.61567405     1.1353951      2.4649574e-13  5.9272165e-13 -1.8751802e-12  40.499989      40.499989      40.499948      66430.004    
Loop time of 16.7702 on 4 procs for 108 steps with 4000 atoms

49.6% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275743  -13439.9598295132   -13439.959829513
  Force two-norm initial, final = 0.0079464253 8.7400254e-11
  Force max component initial, final = 0.00025738659 3.5362439e-12
  Final line search alpha, max atom move = 1 3.5362439e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 9.9        | 10.171     | 10.447     |   8.1 | 60.65
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.9259     | 3.2528     | 3.5247     |  12.9 | 19.40
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 3.346      |            |       | 19.95

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 0.615674047332466
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 0.615674047331708
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.13539510358018
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 2.46495739198598e-13
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 5.9272164501849e-13
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.8751801763728e-12

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 61.5674047377451
variable C2neg equal ${d2}
variable C2neg equal 61.5674047376366
variable C3neg equal ${d3}
variable C3neg equal 113.539510362182
variable C4neg equal ${d4}
variable C4neg equal 6.24669661059105e-10
variable C5neg equal ${d5}
variable C5neg equal 9.75627815375213e-10
variable C6neg equal ${d6}
variable C6neg equal 8.16783235653145e-10

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*40.4999888696336
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 4.04999888696336e-05 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.500035) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96      -0.78876312    -0.61552313    -0.61552322    -1.135243       2.6645389e-07 -1.8736586e-06  9.9770618e-07  40.499989      40.499989      40.500029      66430.137    
       114   1.2325293e-26 -13439.96      -0.78890835    -0.61566828    -0.61566828    -1.1353885     -4.732168e-13  -1.2713487e-12  6.5761581e-13  40.499989      40.499989      40.500029      66430.137    
Loop time of 13.8766 on 4 procs for 108 steps with 4000 atoms

49.7% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275744  -13439.9598295135  -13439.9598295135
  Force two-norm initial, final = 0.0079463696 8.6927563e-11
  Force max component initial, final = 0.00025738462 3.1323417e-12
  Final line search alpha, max atom move = 1 3.1323417e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 9.4433     | 9.5796     | 9.6957     |   3.2 | 69.03
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 2.0792     | 2.2964     | 2.5191     |  10.4 | 16.55
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.001      |            |       | 14.42

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -13439.9598295135
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -0.788908349313003
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -0.615668281093482
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -0.615668281091882
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.13538848575365
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -4.73216804708425e-13
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.27134871648375e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 6.57615808984072e-13

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 61.5668281048498
variable C2pos equal ${d2}
variable C2pos equal 61.5668281047224
variable C3pos equal ${d3}
variable C3pos equal 113.538848571201
variable C4pos equal ${d4}
variable C4pos equal -8.77949259594792e-10
variable C5pos equal ${d5}
variable C5pos equal -7.89220779224989e-10
variable C6pos equal ${d6}
variable C6pos equal -7.44811981262443e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(61.5674047377451+${C1pos})
variable C13 equal 0.5*(61.5674047377451+61.5668281048498)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(61.5674047376366+${C2pos})
variable C23 equal 0.5*(61.5674047376366+61.5668281047224)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(113.539510362182+${C3pos})
variable C33 equal 0.5*(113.539510362182+113.538848571201)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(6.24669661059105e-10+${C4pos})
variable C43 equal 0.5*(6.24669661059105e-10+-8.77949259594792e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(9.75627815375213e-10+${C5pos})
variable C53 equal 0.5*(9.75627815375213e-10+-7.89220779224989e-10)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(8.16783235653145e-10+${C6pos})
variable C63 equal 0.5*(8.16783235653145e-10+-7.44811981262443e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 40.4999888696336
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.047 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*40.4999888696336
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -4.04999888696336e-05 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 -4.0499989e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96       0.00014607322  0.00014501086  0.00014607416  0.00014713465  2.6645709e-07 -1.8736594e-06  0.45409098     40.499989      40.499989      40.499989      66430.07     
       114   1.2325293e-26 -13439.96       8.4389692e-07 -1.4113031e-07  1.0122503e-06  1.6605708e-06  1.8669694e-12  2.3947292e-12  0.45408999     40.499989      40.499989      40.499989      66430.07     
Loop time of 18.112 on 4 procs for 108 steps with 4000 atoms

49.6% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275885  -13439.9598295277  -13439.9598295277
  Force two-norm initial, final = 0.0079463975 9.0419695e-11
  Force max component initial, final = 0.00025738558 3.2564267e-12
  Final line search alpha, max atom move = 1 3.2564267e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 10.479     | 10.668     | 10.906     |   5.5 | 58.90
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.0242     | 4.2752     | 4.5047     |   8.4 | 23.60
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 3.169      |            |       | 17.49

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.41130305102975e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.01225027193099e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.6605707815993e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.86696937634002e-12
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.39472924207002e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 0.454089986123708

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -1.41085320632309e-05
variable C2neg equal ${d2}
variable C2neg equal 0.000101229492971016
variable C3neg equal ${d3}
variable C3neg equal 0.000166061241917655
variable C4neg equal ${d4}
variable C4neg equal 45.408998613183
variable C5neg equal ${d5}
variable C5neg equal 1.15582857508037e-09
variable C6neg equal ${d6}
variable C6neg equal 9.78830599367287e-10

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*40.4999888696336
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 4.04999888696336e-05 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 4.0499989e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96       0.00014607322  0.00014501085  0.00014607416  0.00014713465  2.6645318e-07 -1.8736577e-06 -0.45408899     40.499989      40.499989      40.499989      66430.07     
       114   1.2325293e-26 -13439.96       8.4389677e-07 -1.4112931e-07  1.0122502e-06  1.6605694e-06  4.1889414e-13  1.7618818e-12 -0.45408999     40.499989      40.499989      40.499989      66430.07     
Loop time of 16.0918 on 4 procs for 108 steps with 4000 atoms

48.8% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275885  -13439.9598295276  -13439.9598295276
  Force two-norm initial, final = 0.0079463974 9.095399e-11
  Force max component initial, final = 0.00025738563 3.3828874e-12
  Final line search alpha, max atom move = 1 3.3828874e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 9.8343     | 9.9405     | 10.045     |   2.7 | 61.77
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 3.0977     | 3.2412     | 3.3379     |   5.6 | 20.14
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.91       |            |       | 18.08

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -13439.9598295276
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 8.43896774666924e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.41129312828378e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.01225023512879e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.66056940170036e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 4.18894137852786e-13
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.76188177763947e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -0.454089986123034

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 1.41084328357712e-05
variable C2pos equal ${d2}
variable C2pos equal -0.000101229489290796
variable C3pos equal ${d3}
variable C3pos equal -0.000166061103927761
variable C4pos equal ${d4}
variable C4pos equal 45.4089986114912
variable C5pos equal ${d5}
variable C5pos equal -1.09254382863731e-09
variable C6pos equal ${d6}
variable C6pos equal -8.34023075518564e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(-1.41085320632309e-05+${C1pos})
variable C14 equal 0.5*(-1.41085320632309e-05+1.41084328357712e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(0.000101229492971016+${C2pos})
variable C24 equal 0.5*(0.000101229492971016+-0.000101229489290796)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(0.000166061241917655+${C3pos})
variable C34 equal 0.5*(0.000166061241917655+-0.000166061103927761)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(45.408998613183+${C4pos})
variable C44 equal 0.5*(45.408998613183+45.4089986114912)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(1.15582857508037e-09+${C5pos})
variable C54 equal 0.5*(1.15582857508037e-09+-1.09254382863731e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(9.78830599367287e-10+${C6pos})
variable C64 equal 0.5*(9.78830599367287e-10+-8.34023075518564e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 40.4999888696336
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.103 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*40.4999888696336
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -4.04999888696336e-05 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 -4.0499989e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96       0.00014607322  0.00014616423  0.00014492079  0.00014713465  2.6645946e-07  0.45408811     9.9771323e-07  40.499989      40.499989      40.499989      66430.07     
       114   1.2325293e-26 -13439.96       8.4389255e-07  1.0122462e-06 -1.4113285e-07  1.6605643e-06 -3.8925313e-13  0.45408999     3.2445441e-14  40.499989      40.499989      40.499989      66430.07     
Loop time of 36.3524 on 4 procs for 108 steps with 4000 atoms

47.1% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275885  -13439.9598295277  -13439.9598295277
  Force two-norm initial, final = 0.0079463971 9.0345151e-11
  Force max component initial, final = 0.0002573858 3.2960576e-12
  Final line search alpha, max atom move = 1 3.2960576e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 16.383     | 16.641     | 16.845     |   4.9 | 45.78
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 10.333     | 10.834     | 11.318     |  11.8 | 29.80
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 8.877      |            |       | 24.42

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.01224617324808e-06
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.4113284814552e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.66056431018681e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.89253130494008e-13
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 0.454089986124252
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.2445441452303e-14

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 0.000101229115771875
variable C2neg equal ${d2}
variable C2neg equal -1.41088190366354e-05
variable C3neg equal ${d3}
variable C3neg equal 0.000166060594776406
variable C4neg equal ${d4}
variable C4neg equal 8.15432222841615e-10
variable C5neg equal ${d5}
variable C5neg equal 45.4089986133416
variable C6neg equal ${d6}
variable C6neg equal 7.53208348683884e-10

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.031 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*40.4999888696336
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 4.04999888696336e-05 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 4.0499989e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96       0.00014607322  0.00014616422  0.00014492079  0.00014713465  2.6645253e-07 -0.45409186     9.9771406e-07  40.499989      40.499989      40.499989      66430.07     
       114   1.2325293e-26 -13439.96       8.4388724e-07  1.0122404e-06 -1.411398e-07   1.6605611e-06 -4.1120176e-13 -0.45408999     5.5011995e-14  40.499989      40.499989      40.499989      66430.07     
Loop time of 22.2596 on 4 procs for 108 steps with 4000 atoms

47.4% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275885  -13439.9598295277  -13439.9598295277
  Force two-norm initial, final = 0.0079463978 8.989821e-11
  Force max component initial, final = 0.00025738542 3.3463928e-12
  Final line search alpha, max atom move = 1 3.3463928e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 11.32      | 11.418     | 11.559     |   2.8 | 51.29
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 5.3438     | 5.5434     | 5.7328     |   5.9 | 24.90
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 5.298      |            |       | 23.80

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -13439.9598295277
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 8.43887242051404e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.01224038752331e-06
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.41139798134404e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.66056113676531e-06
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -4.11201758975971e-13
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -0.454089986122169
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 5.50119951762892e-14

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -0.000101228537199398
variable C2pos equal ${d2}
variable C2pos equal 1.41095140355238e-05
variable C3pos equal ${d3}
variable C3pos equal -0.000166060277434256
variable C4pos equal ${d4}
variable C4pos equal -8.17688878214014e-10
variable C5pos equal ${d5}
variable C5pos equal 45.4089986113005
variable C6pos equal ${d6}
variable C6pos equal -7.51013485835688e-10

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(0.000101229115771875+${C1pos})
variable C15 equal 0.5*(0.000101229115771875+-0.000101228537199398)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-1.41088190366354e-05+${C2pos})
variable C25 equal 0.5*(-1.41088190366354e-05+1.41095140355238e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(0.000166060594776406+${C3pos})
variable C35 equal 0.5*(0.000166060594776406+-0.000166060277434256)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(8.15432222841615e-10+${C4pos})
variable C45 equal 0.5*(8.15432222841615e-10+-8.17688878214014e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(45.4089986133416+${C5pos})
variable C55 equal 0.5*(45.4089986133416+45.4089986113005)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(7.53208348683884e-10+${C6pos})
variable C65 equal 0.5*(7.53208348683884e-10+-7.51013485835688e-10)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 40.4999888696336

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.001 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*40.4999888696336
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -4.04999888696336e-05 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (-4.0499989e-05 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96       0.00014607322  0.00014616422  0.00014672249  0.00014533295  0.45409025    -1.8736502e-06  9.9771465e-07  40.499989      40.499989      40.499989      66430.07     
       114   1.2325293e-26 -13439.96       8.4389426e-07  1.0122458e-06  1.6605698e-06 -1.4113286e-07  0.45408999    -1.8230062e-12  9.5402677e-13  40.499989      40.499989      40.499989      66430.07     
Loop time of 16.0329 on 4 procs for 108 steps with 4000 atoms

49.5% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275885  -13439.9598295277  -13439.9598295277
  Force two-norm initial, final = 0.0079463974 9.0716181e-11
  Force max component initial, final = 0.00025738566 3.2759113e-12
  Final line search alpha, max atom move = 1 3.2759113e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 9.9766     | 10.009     | 10.051     |   0.9 | 62.43
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 3.0525     | 3.1388     | 3.2143     |   3.5 | 19.58
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.885      |            |       | 17.99

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.01224584355925e-06
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.6605697948432e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.41132857634483e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0.454089986120614
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -1.82300623631699e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 9.54026768563954e-13

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 0.000101229082802992
variable C2neg equal ${d2}
variable C2neg equal 0.000166061445262237
variable C3neg equal ${d3}
variable C3neg equal -1.41091220057235e-05
variable C4neg equal ${d4}
variable C4neg equal 9.07590355552781e-10
variable C5neg equal ${d5}
variable C5neg equal 7.34055027241665e-10
variable C6neg equal ${d6}
variable C6neg equal 45.4089986128535

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 23 Jun 2022, LAMMPS = 23 Jun 2022
  restoring atom style atomic from restart
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (0 0 0)
  1 by 2 by 2 MPI processor grid
  pair style meam/c stores no restart info
  4000 atoms
  read_restart CPU = 0.075 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style  meam/c
pair_coeff * * library-Al.meam Al Al.meam Al

# Setup neighbor style
neighbor 0.5 bin
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1000
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*40.4999888696336
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 4.04999888696336e-05 remap units box
Changing box ...
  triclinic box = (5.5651832e-06 5.5651832e-06 5.5651832e-06) to (40.499994 40.499994 40.499994) with tilt (4.0499989e-05 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100000 ${maxeval}
minimize 0 1e-10 100000 1000000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 5.5
  ghost atom cutoff = 5.5
  binsize = 2.75, bins = 15 15 15
  2 neighbor lists, perpetual/occasional/extra = 2 0 0
  (1) pair meam/c, perpetual
      attributes: full, newton on
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
  (2) pair meam/c, perpetual, half/full from (1)
      attributes: half, newton on
      pair build: halffull/newton
      stencil: none
      bin: none
Per MPI rank memory allocation (min/avg/max) = 10.59 | 10.6 | 10.6 Mbytes
   Step          Temp          PotEng         Press           Pxx            Pyy            Pzz            Pxy            Pxz            Pyz             Lx             Ly             Lz           Volume    
         6   1.2325293e-26 -13439.96       0.00014607322  0.00014616422  0.00014672249  0.00014533294 -0.45408972    -1.8736559e-06  9.9771237e-07  40.499989      40.499989      40.499989      66430.07     
       114   1.2325293e-26 -13439.96       8.4389679e-07  1.0122498e-06  1.6605719e-06 -1.4113135e-07 -0.45408999     2.4379526e-12  5.505762e-13   40.499989      40.499989      40.499989      66430.07     
Loop time of 15.8712 on 4 procs for 108 steps with 4000 atoms

49.8% CPU use with 4 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
     -13439.9598275885  -13439.9598295277  -13439.9598295277
  Force two-norm initial, final = 0.0079463974 9.0360907e-11
  Force max component initial, final = 0.00025738556 3.7103231e-12
  Final line search alpha, max atom move = 1 3.7103231e-12
  Iterations, force evaluations = 108 216

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 9.7555     | 9.8497     | 9.8923     |   1.8 | 62.06
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 3.0343     | 3.089      | 3.1933     |   3.5 | 19.46
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 2.933      |            |       | 18.48

Nlocal:           1000 ave        1008 max         985 min
Histogram: 1 0 0 0 0 0 0 1 1 1
Nghost:           1813 ave        1828 max        1805 min
Histogram: 1 1 1 0 0 0 0 0 0 1
Neighs:          21000 ave       21166 max       20694 min
Histogram: 1 0 0 0 0 0 0 1 1 1
FullNghs:        42000 ave       42336 max       41370 min
Histogram: 1 0 0 0 0 0 0 1 1 1

Total # of neighbors = 168000
Ave neighs/atom = 42
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -13439.9598295277
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal 8.43896786095424e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.01224977062543e-06
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.66057193926107e-06
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.41131351600223e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -0.454089986121767
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.43795262104473e-12
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 5.50576195552967e-13

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -0.00010122947550961
variable C2pos equal ${d2}
variable C2pos equal -0.000166061659704024
variable C3pos equal ${d3}
variable C3pos equal 1.41089714022975e-05
variable C4pos equal ${d4}
variable C4pos equal -8.67245298251682e-10
variable C5pos equal ${d5}
variable C5pos equal -1.16015091297784e-09
variable C6pos equal ${d6}
variable C6pos equal 45.4089986113846

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(0.000101229082802992+${C1pos})
variable C16 equal 0.5*(0.000101229082802992+-0.00010122947550961)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(0.000166061445262237+${C2pos})
variable C26 equal 0.5*(0.000166061445262237+-0.000166061659704024)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(-1.41091220057235e-05+${C3pos})
variable C36 equal 0.5*(-1.41091220057235e-05+1.41089714022975e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(9.07590355552781e-10+${C4pos})
variable C46 equal 0.5*(9.07590355552781e-10+-8.67245298251682e-10)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(7.34055027241665e-10+${C5pos})
variable C56 equal 0.5*(7.34055027241665e-10+-1.16015091297784e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(45.4089986128535+${C6pos})
variable C66 equal 0.5*(45.4089986128535+45.4089986113846)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 113.539179467075
variable C22all equal ${C22}
variable C22all equal 113.539179466807
variable C33all equal ${C33}
variable C33all equal 113.539179466692

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(61.5671164214863+${C21})
variable C12all equal 0.5*(61.5671164214863+61.5671164216656)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(61.5671164212974+${C31})
variable C13all equal 0.5*(61.5671164212974+61.5671164218248)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(61.5671164211795+${C32})
variable C23all equal 0.5*(61.5671164211795+61.5671164213813)

variable C44all equal ${C44}
variable C44all equal 45.4089986123371
variable C55all equal ${C55}
variable C55all equal 45.408998612321
variable C66all equal ${C66}
variable C66all equal 45.408998612119

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-4.96137298504681e-11+${C41})
variable C14all equal 0.5*(-4.96137298504681e-11+-1.69109204370123e-10)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(2.89286238498341e-10+${C51})
variable C15all equal 0.5*(2.89286238498341e-10+-1.28985729525545e-10)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(-1.96353308998698e-10+${C61})
variable C16all equal 0.5*(-1.96353308998698e-10+-6.8436597309363e-11)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(1.84010999390279e-12+${C42})
variable C24all equal 0.5*(1.84010999390279e-12+3.40255843811875e-11)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(3.47499444200442e-10+${C52})
variable C25all equal 0.5*(3.47499444200442e-10+-1.58112352161395e-10)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(-1.07220893500056e-10+${C62})
variable C26all equal 0.5*(-1.07220893500056e-10+-4.70647400682403e-12)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(6.89949470033526e-11+${C43})
variable C34all equal 0.5*(6.89949470033526e-11+-1.26639799267843e-10)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(1.58671074990493e-10+${C53})
variable C35all equal 0.5*(1.58671074990493e-10+9.3203518075112e-11)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(-7.53017130004512e-11+${C63})
variable C36all equal 0.5*(-7.53017130004512e-11+3.5985627195351e-11)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-1.12832768619951e-12+${C54})
variable C45all equal 0.5*(-1.12832768619951e-12+3.164237322153e-11)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(2.01725286505495e-11+${C64})
variable C46all equal 0.5*(2.01725286505495e-11+7.24037619243615e-11)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(-2.13047942868088e-10+${C65})
variable C56all equal 0.5*(-2.13047942868088e-10+1.09743142409798e-12)

# Average moduli for cubic crystals

variable C11cubic equal (${C11all}+${C22all}+${C33all})/3.0
variable C11cubic equal (113.539179467075+${C22all}+${C33all})/3.0
variable C11cubic equal (113.539179467075+113.539179466807+${C33all})/3.0
variable C11cubic equal (113.539179467075+113.539179466807+113.539179466692)/3.0
variable C12cubic equal (${C12all}+${C13all}+${C23all})/3.0
variable C12cubic equal (61.5671164215759+${C13all}+${C23all})/3.0
variable C12cubic equal (61.5671164215759+61.5671164215611+${C23all})/3.0
variable C12cubic equal (61.5671164215759+61.5671164215611+61.5671164212804)/3.0
variable C44cubic equal (${C44all}+${C55all}+${C66all})/3.0
variable C44cubic equal (45.4089986123371+${C55all}+${C66all})/3.0
variable C44cubic equal (45.4089986123371+45.408998612321+${C66all})/3.0
variable C44cubic equal (45.4089986123371+45.408998612321+45.408998612119)/3.0

variable bulkmodulus equal (${C11cubic}+2*${C12cubic})/3.0
variable bulkmodulus equal (113.539179466858+2*${C12cubic})/3.0
variable bulkmodulus equal (113.539179466858+2*61.5671164214725)/3.0
variable shearmodulus1 equal ${C44cubic}
variable shearmodulus1 equal 45.408998612259
variable shearmodulus2 equal (${C11cubic}-${C12cubic})/2.0
variable shearmodulus2 equal (113.539179466858-${C12cubic})/2.0
variable shearmodulus2 equal (113.539179466858-61.5671164214725)/2.0
variable poissonratio equal 1.0/(1.0+${C11cubic}/${C12cubic})
variable poissonratio equal 1.0/(1.0+113.539179466858/${C12cubic})
variable poissonratio equal 1.0/(1.0+113.539179466858/61.5671164214725)

# For Stillinger-Weber silicon, the analytical results
# are known to be (E. R. Cowley, 1988):
#               C11 = 151.4 GPa
#               C12 = 76.4 GPa
#               C44 = 56.4 GPa

print "========================================="
=========================================
print "Components of the Elastic Constant Tensor"
Components of the Elastic Constant Tensor
print "========================================="
=========================================

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 113.539179467075 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 113.539179466807 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 113.539179466692 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 61.5671164215759 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 61.5671164215611 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = 61.5671164212804 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 45.4089986123371 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 45.408998612321 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = 45.408998612119 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = -1.09361467110296e-10 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = 8.0150254486398e-11 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = -1.3239495315403e-10 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = 1.79328471875451e-11 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = 9.46935460195235e-11 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = -5.596368375344e-11 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = -2.88224261322452e-11 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = 1.25937296532802e-10 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = -1.96580429025501e-11 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = 1.52570227676652e-11 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = 4.62881452874555e-11 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = -1.05975255721995e-10 GPa

print "========================================="
=========================================
print "Average properties for a cubic crystal"
Average properties for a cubic crystal
print "========================================="
=========================================

print "Bulk Modulus = ${bulkmodulus} ${cunits}"
Bulk Modulus = 78.891137436601 GPa
print "Shear Modulus 1 = ${shearmodulus1} ${cunits}"
Shear Modulus 1 = 45.408998612259 GPa
print "Shear Modulus 2 = ${shearmodulus2} ${cunits}"
Shear Modulus 2 = 25.9860315226928 GPa
print "Poisson Ratio = ${poissonratio}"
Poisson Ratio = 0.351598531104417
Total wall time: 0:04:40
